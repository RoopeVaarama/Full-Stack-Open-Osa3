{"ast":null,"code":"import React from'react';import personService from'../services/persons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Persons=function Persons(_ref){var persons=_ref.persons,search=_ref.search,setPersons=_ref.setPersons,setErrorMessage=_ref.setErrorMessage;return persons.filter(function(person){return person.name.toLowerCase().includes(search.toLowerCase());}).map(function(person){return/*#__PURE__*/_jsxs(\"div\",{children:[person.name,\" \",person.number,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(window.confirm(\"Delete \".concat(person.name,\"?\"))){personService.remove(person.id).catch(function(error){setErrorMessage(\"Person '\".concat(person.name,\"' was already removed from server\"));setTimeout(function(){setErrorMessage(null);},5000);});setPersons(persons.filter(function(p){return p.id!==person.id;}));}},children:\"delete\"})]},person.name);});};export default Persons;","map":{"version":3,"names":["React","personService","jsx","_jsx","jsxs","_jsxs","Persons","_ref","persons","search","setPersons","setErrorMessage","filter","person","name","toLowerCase","includes","map","children","number","onClick","window","confirm","concat","remove","id","catch","error","setTimeout","p"],"sources":["/Users/roope/Visual Studio Code/Full-Stack-Open-Osa3/client/src/components/Persons.js"],"sourcesContent":["import React from 'react';\nimport personService from '../services/persons';\n\nconst Persons = ({ persons, search, setPersons, setErrorMessage }) => {\n\n    return persons\n        .filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n        .map(person => {\n            return <div key={person.name}>\n                {person.name} {person.number}\n                <button onClick={() => {\n                    if (window.confirm(`Delete ${person.name}?`)) {\n                        personService.remove(person.id).catch(error => {\n                            setErrorMessage(\n                                `Person '${person.name}' was already removed from server`\n                            )\n                            setTimeout(() => {\n                                setErrorMessage(null)\n                            }, 5000)\n                        })\n                        setPersons(persons.filter(p => p.id !== person.id))\n                    }\n                }\n                }>delete</button>\n            </div>\n        })\n}\n\nexport default Persons;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAAC,IAAA,CAAyD,IAAnD,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,eAAe,CAAAJ,IAAA,CAAfI,eAAe,CAE3D,MAAO,CAAAH,OAAO,CACTI,MAAM,CAAC,SAAAC,MAAM,QAAI,CAAAA,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,MAAM,CAACM,WAAW,CAAC,CAAC,CAAC,GAAC,CAC1EE,GAAG,CAAC,SAAAJ,MAAM,CAAI,CACX,mBAAOR,KAAA,QAAAa,QAAA,EACFL,MAAM,CAACC,IAAI,CAAC,GAAC,CAACD,MAAM,CAACM,MAAM,cAC5BhB,IAAA,WAAQiB,OAAO,CAAE,SAAAA,QAAA,CAAM,CACnB,GAAIC,MAAM,CAACC,OAAO,WAAAC,MAAA,CAAWV,MAAM,CAACC,IAAI,KAAG,CAAC,CAAE,CAC1Cb,aAAa,CAACuB,MAAM,CAACX,MAAM,CAACY,EAAE,CAAC,CAACC,KAAK,CAAC,SAAAC,KAAK,CAAI,CAC3ChB,eAAe,YAAAY,MAAA,CACAV,MAAM,CAACC,IAAI,qCAC1B,CAAC,CACDc,UAAU,CAAC,UAAM,CACbjB,eAAe,CAAC,IAAI,CAAC,CACzB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAAC,CACFD,UAAU,CAACF,OAAO,CAACI,MAAM,CAAC,SAAAiB,CAAC,QAAI,CAAAA,CAAC,CAACJ,EAAE,GAAKZ,MAAM,CAACY,EAAE,GAAC,CAAC,CACvD,CACJ,CACC,CAAAP,QAAA,CAAC,QAAM,CAAQ,CAAC,GAfJL,MAAM,CAACC,IAgBnB,CAAC,CACV,CAAC,CAAC,CACV,CAAC,CAED,cAAe,CAAAR,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}