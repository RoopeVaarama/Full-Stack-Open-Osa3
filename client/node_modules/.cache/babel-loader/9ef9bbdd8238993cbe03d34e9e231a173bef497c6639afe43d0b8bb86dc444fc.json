{"ast":null,"code":"var _jsxFileName = \"/Users/roope/Visual Studio Code/Full-Stack-Open/Osa2/puhelinluettelo/src/components/PersonForm.js\";\nimport React from 'react';\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PersonForm = ({\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  persons,\n  setPersons,\n  setMessage\n}) => {\n  const addNumber = event => {\n    event.preventDefault();\n    console.log('button clicked', event.target);\n    console.log(persons.some(person => person.name === newName));\n    const person = persons.find(p => p.name === newName);\n    if (person && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      const changedPerson = {\n        ...person,\n        number: newNumber\n      };\n      personService.update(person.id, changedPerson).then(response => {\n        console.log(response);\n        setPersons(persons.map(p => p.id !== person.id ? p : response.data));\n      }).then(() => {\n        setMessage(`Updated ${person.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      }).catch(error => {\n        console.log(error);\n        if (error.response.status === 404) {\n          setMessage(`Information of ${person.name} has already been removed from server`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        } else {\n          setMessage(`Error updating ${person.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        }\n      });\n      setNewName('');\n      setNewNumber('');\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(personObject).then(response => {\n        console.log(response);\n        setPersons(persons.concat(response.data));\n      }).then(() => {\n        setMessage(`Added ${personObject.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      }).catch(error => {\n        console.log(error.response.data);\n        setMessage(`Error adding ${personObject.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n      setPersons(persons.concat(personObject));\n      setNewName('');\n      setNewNumber('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: addNumber,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newName,\n        onChange: e => setNewName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newNumber,\n        onChange: e => setNewNumber(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_c = PersonForm;\nexport default PersonForm;\nvar _c;\n$RefreshReg$(_c, \"PersonForm\");","map":{"version":3,"names":["React","personService","jsxDEV","_jsxDEV","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setMessage","addNumber","event","preventDefault","console","log","target","some","person","name","find","p","window","confirm","changedPerson","number","update","id","then","response","map","data","setTimeout","catch","error","status","personObject","create","concat","onSubmit","children","value","onChange","e","fileName","_jsxFileName","lineNumber","columnNumber","type","_c","$RefreshReg$"],"sources":["/Users/roope/Visual Studio Code/Full-Stack-Open/Osa2/puhelinluettelo/src/components/PersonForm.js"],"sourcesContent":["import React from 'react';\nimport personService from '../services/persons';\n\nconst PersonForm = ({ newName, setNewName, newNumber, setNewNumber, persons, setPersons, setMessage }) => {\n\n    const addNumber = (event) => {\n        event.preventDefault()\n        console.log('button clicked', event.target)\n        console.log(persons.some(person => person.name === newName))\n        const person = persons.find(p => p.name === newName)\n        if (person && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n            const changedPerson = { ...person, number: newNumber }\n            personService.update(person.id, changedPerson).then(response => {\n                console.log(response)\n                setPersons(persons.map(p => p.id !== person.id ? p : response.data))\n            }).then(() => {\n                setMessage\n                    (`Updated ${person.name}`)\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            }).catch(error => {\n                console.log(error)\n                if (error.response.status === 404) {\n                    setMessage\n                        (`Information of ${person.name} has already been removed from server`)\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n\n                } else {\n                    setMessage\n                        (`Error updating ${person.name}`)\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                }\n            })\n\n            setNewName('')\n            setNewNumber('')\n        } else {\n            const personObject = {\n                name: newName,\n                number: newNumber\n            }\n            personService.create(personObject).then(response => {\n                console.log(response)\n                setPersons(persons.concat(response.data))\n            }).then(() => {\n                setMessage\n                    (`Added ${personObject.name}`)\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            }).catch(error => {\n                console.log(error.response.data)\n                setMessage\n                    (`Error adding ${personObject.name}`)\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            })\n            setPersons(persons.concat(personObject))\n            setNewName('')\n            setNewNumber('')\n        }\n    }\n    return (\n        <form onSubmit={addNumber}>\n            <div>\n                name: <input value={newName} onChange={e => setNewName(e.target.value)} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={e => setNewNumber(e.target.value)} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}